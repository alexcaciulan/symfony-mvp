{{ form_start(form, {
    action: legalCase ? path('case_step', { id: legalCase.id, step: 1 }) : path('case_new'),
    attr: {
        'data-controller': 'court-selector',
        'data-court-selector-url-value': path('case_courts_by_county', { county: '__COUNTY__' })|replace({'__COUNTY__': ''}),
        'data-court-selector-selected-value': (legalCase and legalCase.court) ? legalCase.court.id : '0',
    }
}) }}

<div class="space-y-6">
    {# County #}
    <div>
        {{ form_label(form.county, null, { label_attr: { class: 'block text-sm font-medium text-gray-700 mb-1' }}) }}
        {{ form_widget(form.county, { attr: {
            class: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-light',
            'data-court-selector-target': 'county',
            'data-action': 'change->court-selector#countyChanged',
        }}) }}
        {{ form_errors(form.county) }}
    </div>

    {# Court #}
    <div>
        {{ form_label(form.court, null, { label_attr: { class: 'block text-sm font-medium text-gray-700 mb-1' }}) }}
        {{ form_widget(form.court, { attr: {
            class: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-light',
            'data-court-selector-target': 'court',
            'data-placeholder': 'wizard.step1.court_placeholder'|trans,
        }}) }}
        {{ form_errors(form.court) }}
    </div>
</div>

{# Actions #}
<div class="flex justify-end mt-8">
    <button type="submit" class="px-6 py-2.5 bg-primary-light text-white rounded-lg font-medium hover:bg-primary transition-colors">
        {{ 'wizard.next'|trans }}
    </button>
</div>

{{ form_end(form) }}
